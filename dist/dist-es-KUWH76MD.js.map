{"version":3,"sources":["../../../node_modules/@aws-sdk/credential-provider-env/dist-es/fromEnv.js"],"sourcesContent":["import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nexport const ENV_KEY = \"AWS_ACCESS_KEY_ID\";\nexport const ENV_SECRET = \"AWS_SECRET_ACCESS_KEY\";\nexport const ENV_SESSION = \"AWS_SESSION_TOKEN\";\nexport const ENV_EXPIRATION = \"AWS_CREDENTIAL_EXPIRATION\";\nexport const ENV_CREDENTIAL_SCOPE = \"AWS_CREDENTIAL_SCOPE\";\nexport const ENV_ACCOUNT_ID = \"AWS_ACCOUNT_ID\";\nexport const fromEnv = (init) => async () => {\n    init?.logger?.debug(\"@aws-sdk/credential-provider-env - fromEnv\");\n    const accessKeyId = process.env[ENV_KEY];\n    const secretAccessKey = process.env[ENV_SECRET];\n    const sessionToken = process.env[ENV_SESSION];\n    const expiry = process.env[ENV_EXPIRATION];\n    const credentialScope = process.env[ENV_CREDENTIAL_SCOPE];\n    const accountId = process.env[ENV_ACCOUNT_ID];\n    if (accessKeyId && secretAccessKey) {\n        const credentials = {\n            accessKeyId,\n            secretAccessKey,\n            ...(sessionToken && { sessionToken }),\n            ...(expiry && { expiration: new Date(expiry) }),\n            ...(credentialScope && { credentialScope }),\n            ...(accountId && { accountId }),\n        };\n        setCredentialFeature(credentials, \"CREDENTIALS_ENV_VARS\", \"g\");\n        return credentials;\n    }\n    throw new CredentialsProviderError(\"Unable to find environment variable credentials.\", { logger: init?.logger });\n};\n"],"mappings":";;;;;;;;;AAEO,IAAM,UAAU;AAChB,IAAM,aAAa;AACnB,IAAM,cAAc;AACpB,IAAM,iBAAiB;AACvB,IAAM,uBAAuB;AAC7B,IAAM,iBAAiB;AACvB,IAAM,UAAU,CAAC,SAAS,YAAY;AACzC,QAAM,QAAQ,MAAM,4CAA4C;AAChE,QAAM,cAAc,QAAQ,IAAI,OAAO;AACvC,QAAM,kBAAkB,QAAQ,IAAI,UAAU;AAC9C,QAAM,eAAe,QAAQ,IAAI,WAAW;AAC5C,QAAM,SAAS,QAAQ,IAAI,cAAc;AACzC,QAAM,kBAAkB,QAAQ,IAAI,oBAAoB;AACxD,QAAM,YAAY,QAAQ,IAAI,cAAc;AAC5C,MAAI,eAAe,iBAAiB;AAChC,UAAM,cAAc;AAAA,MAChB;AAAA,MACA;AAAA,MACA,GAAI,gBAAgB,EAAE,aAAa;AAAA,MACnC,GAAI,UAAU,EAAE,YAAY,IAAI,KAAK,MAAM,EAAE;AAAA,MAC7C,GAAI,mBAAmB,EAAE,gBAAgB;AAAA,MACzC,GAAI,aAAa,EAAE,UAAU;AAAA,IACjC;AACA,yBAAqB,aAAa,wBAAwB,GAAG;AAC7D,WAAO;AAAA,EACX;AACA,QAAM,IAAI,yBAAyB,oDAAoD,EAAE,QAAQ,MAAM,OAAO,CAAC;AACnH;","names":[]}